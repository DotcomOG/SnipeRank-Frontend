<!DOCTYPE html>
<html>
<head>
    <title>Backend Fetch Test</title>
</head>
<body>
    <h1>Testing Backend Connection</h1>
    <div id="result">Loading...</div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const targetUrl = urlParams.get("url");
        
        if (!targetUrl) {
            document.getElementById("result").innerHTML = "No URL provided";
        } else {
            // Fetch from your backend
            const requestUrl = `https://sniperank-backend-newjuly23.onrender.com/report.html?url=${encodeURIComponent(targetUrl)}`;
            
            fetch(requestUrl)
                .then(res => res.text())
                .then(html => {
                    document.getElementById("result").innerHTML = html;
                })
                .catch(err => {
                    document.getElementById("result").innerHTML = `Error: ${err.message}`;
                });
        }
    </script>
</body>
</html>
